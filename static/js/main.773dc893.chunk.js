(this["webpackJsonpglow-up-fe"]=this["webpackJsonpglow-up-fe"]||[]).push([[0],{59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a,c,s,r,o,i=n(2),d=n.n(i),l=n(49),b=n.n(l),j=(n(59),n(60),n(8)),u=(n(61),n(71)),h=n(26),O=n(78),m=Object(O.a)(a||(a=Object(h.a)(["\n  mutation createMood($mood: Int!, $description: String) {\n    createMood(input: { params: { mood: $mood, description: $description } }) {\n      user {\n        id\n      }\n    }\n  }\n"]))),p=Object(O.a)(c||(c=Object(h.a)(["\n  mutation addHabitEntries($idArr: [HabitEntryInput!]!) {\n    createHabitEntry(input: { params: $idArr }) {\n      user {\n        habitEntries {\n          habitId\n          status\n          date\n        }\n      }\n    }\n  }\n"]))),f=n(3),x=Object(i.createContext)({userHabits:[],setUserHabits:function(){},checkedHabitIds:[],setCheckedHabitIds:function(){},todaysMood:null,setTodaysMood:function(){},todaysHabits:[],setTodaysHabits:function(){},displayMood:function(){return""}}),y=function(e){var t=e.children,n=Object(i.useState)([]),a=Object(j.a)(n,2),c=a[0],s=a[1],r=Object(i.useState)([]),o=Object(j.a)(r,2),d=o[0],l=o[1],b=Object(i.useState)(null),u=Object(j.a)(b,2),h=u[0],O=u[1],m=Object(i.useState)([]),p=Object(j.a)(m,2),y=p[0],g=p[1];return Object(f.jsx)(x.Provider,{value:{userHabits:c,setUserHabits:s,checkedHabitIds:d,setCheckedHabitIds:l,todaysMood:h,setTodaysMood:O,todaysHabits:y,setTodaysHabits:g,displayMood:function(e){switch(e){case 0:return"\ud83d\ude2d";case 1:return"\ud83d\ude41";case 2:return"\ud83d\ude10";case 3:return"\ud83d\ude42";case 4:return"\ud83d\ude01";default:return"\u2753"}}},children:t})},g=function(){var e=Object(i.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(""),s=Object(j.a)(c,2),r=s[0],o=s[1],d=Object(i.useState)(!0),l=Object(j.a)(d,2),b=l[0],h=l[1],O=Object(u.a)(m),p=Object(j.a)(O,1)[0],y=Object(i.useContext)(x),g=y.todaysMood,v=y.displayMood;return Object(f.jsx)("section",{className:"mood-form-container",children:g?Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:["I am feeling: ",v(g.mood)]}),g.description&&Object(f.jsx)("p",{children:g.description})]}):Object(f.jsxs)("form",{className:"mood-form",onSubmit:function(e){e.preventDefault(),n?(p({variables:{mood:parseInt(n),description:r}}),h(!0),a(""),o("")):h(!1)},children:[Object(f.jsx)("h2",{children:"How are you feeling today?"}),Object(f.jsxs)("div",{className:"moods-container",children:[Object(f.jsx)("input",{type:"radio","aria-label":"strongly positive",name:"mood",id:"strongly-positive",value:"4",onChange:function(e){return a(e.currentTarget.value)},checked:"4"===n}),Object(f.jsx)("label",{htmlFor:"strongly-positive",className:"mood-label",children:"\ud83d\ude01"}),Object(f.jsx)("input",{type:"radio","aria-label":"positive",name:"mood",id:"positive",value:"3",onChange:function(e){return a(e.currentTarget.value)},checked:"3"===n}),Object(f.jsx)("label",{htmlFor:"positive",className:"mood-label",children:"\ud83d\ude42"}),Object(f.jsx)("input",{type:"radio","aria-label":"neutral",name:"mood",id:"neutral",value:"2",onChange:function(e){return a(e.currentTarget.value)},checked:"2"===n}),Object(f.jsx)("label",{htmlFor:"neutral",className:"mood-label",children:"\ud83d\ude10"}),Object(f.jsx)("input",{type:"radio","aria-label":"negative",name:"mood",id:"negative",value:"1",onChange:function(e){return a(e.currentTarget.value)},checked:"1"===n}),Object(f.jsx)("label",{htmlFor:"negative",className:"mood-label",children:"\ud83d\ude41"}),Object(f.jsx)("input",{type:"radio","aria-label":"strongly negative",name:"mood",id:"strongly-negative",value:"0",onChange:function(e){return a(e.currentTarget.value)},checked:"0"===n}),Object(f.jsx)("label",{htmlFor:"strongly-negative",className:"mood-label",children:"\ud83d\ude2d"})]}),!b&&Object(f.jsx)("p",{className:"error-message",children:"**Please select your mood today!**"}),Object(f.jsx)("input",{type:"text",placeholder:"Today, I am feeling...",className:"mood-description",value:r,onChange:function(e){return o(e.currentTarget.value)}}),Object(f.jsx)("button",{className:"mood-submit-button",type:"submit",children:"Submit"})]})})},v=(n(64),Object(O.a)(s||(s=Object(h.a)(["\n  query fetchUser {\n    fetchUser {\n      username\n\n      moods {\n        id\n        description\n        mood\n        createdAt\n      }\n\n      habitEntries {\n        id\n        date\n        habitId\n        status\n      }\n\n      journalEntries {\n        id\n        content\n        date\n      }\n    }\n  }\n"]))),Object(O.a)(r||(r=Object(h.a)(["\n  query fetchHabits {\n    fetchHabits {\n      id\n      name\n    }\n  }\n"])))),k=Object(O.a)(o||(o=Object(h.a)(["\n  query fetchUser {\n    fetchUser {\n      dailyMood {\n        id\n        mood\n        description\n      }\n\n      dailyHabits {\n        id\n        name\n      }\n    }\n  }\n"]))),H=n(76),N=n(25);n(65);function T(e){var t=Object(i.useContext)(x),n=t.checkedHabitIds,a=t.setCheckedHabitIds,c=Object(i.useState)(e.checkedToday),s=Object(j.a)(c,2),r=s[0],o=s[1],d=Object(i.useState)({false:{backgroundColor:"#e4dfdd",color:"black"},true:{backgroundColor:"#4a5582",color:"#fff"}}),l=Object(j.a)(d,1)[0];Object(i.useEffect)((function(){o(e.checkedToday)}),[e.checkedToday]);return Object(f.jsx)("button",{className:"habit-card-button",onClick:function(e){switch(e.preventDefault(),r){case!1:o(!0),a([].concat(Object(N.a)(n),[parseInt(e.currentTarget.id)]));break;case!0:o(!1);var t=n.filter((function(t){return t!==parseInt(e.currentTarget.id)}));a(t)}},id:e.id,style:r?l.true:l.false,children:e.name})}n.p;var I=function(){var e=Object(H.a)(v),t=e.loading,n=e.error,a=e.data,c=Object(i.useContext)(x),s=c.checkedHabitIds,r=c.setCheckedHabitIds,o=c.todaysHabits,d=Object(u.a)(p),l=Object(j.a)(d,1)[0];Object(i.useEffect)((function(){!t&&a&&r(o.map((function(e){return parseInt(e.id)})))}),[t,a]);return Object(f.jsxs)(f.Fragment,{children:[t&&Object(f.jsx)("h2",{children:"Loading..."}),n&&Object(f.jsx)("h2",{children:"Error! ".concat(n.message)}),Object(f.jsxs)("section",{className:"habit-form-container",children:[o.length?Object(f.jsx)("h2",{children:"Add more habits"}):Object(f.jsx)("h2",{className:"habit-form-question",children:"No check in yet. Go complete some!"}),Object(f.jsxs)("form",{className:"habit-form",onSubmit:function(e){e.preventDefault();var t=s.map((function(e){return{id:e}}));t.length?(l({variables:{idArr:t}}),alert("Great job")):(alert("No entry today? Tomorrow is another day!"),l({variables:{idArr:t}}))},children:[a&&a.fetchHabits.map((function(e){return Object(f.jsx)(T,{name:e.name,id:e.id,checkedToday:s.includes(parseInt(e.id))},e.id)})),Object(f.jsx)("button",{className:"habit-submit-button",type:"submit",children:"Submit"})]})]})]})},w=(n(66),n(21)),S=function(){var e=Object(i.useContext)(x),t=e.todaysMood,n=e.setTodaysMood,a=e.todaysHabits,c=e.setTodaysHabits,s=e.displayMood,r=Object(H.a)(k),o=r.loading,d=r.error,l=r.data,b=r.refetch;Object(i.useEffect)((function(){b(),!o&&l&&(n(l.fetchUser.dailyMood),c(l.fetchUser.dailyHabits))}),[o,l]);var j=new Date,u=String(j.getDate()).padStart(2,"0"),h=String(j.getMonth()+1).padStart(2,"0")+"/"+u+"/"+j.getFullYear();return Object(f.jsxs)("main",{children:[o&&Object(f.jsx)("h2",{children:"Loading..."}),d&&Object(f.jsx)("h2",{children:"Error! ".concat(d.message)}),Object(f.jsxs)("section",{className:"dashboard-container",children:[Object(f.jsx)("h2",{className:"page-title",children:"My Dashboard"}),Object(f.jsxs)("article",{className:"today-container",children:[t?Object(f.jsxs)("div",{children:[Object(f.jsxs)("h3",{children:["Today: ",h]}),Object(f.jsxs)("p",{children:["I am feeling: ",s(t.mood)]}),t.description&&Object(f.jsx)("p",{children:t.description})]}):Object(f.jsx)(w.b,{to:"/glow-up-fe/track",children:"\u2795 Enter your mood today!"}),a.length?Object(f.jsxs)("div",{className:"completed-habits",children:[Object(f.jsx)("h4",{children:"Habits I completed:"}),a.map((function(e){return Object(f.jsxs)("p",{children:["\u2705 ",e.name]},e.id)})),Object(f.jsx)(w.b,{to:"/glow-up-fe/track",children:"\u2795 Add more habits"})]}):Object(f.jsx)(w.b,{to:"/glow-up-fe/track",children:"\u2795 Enter your habits!"})]})]}),Object(f.jsx)("section",{className:"week-container",children:Object(f.jsx)("h3",{children:"This week..."})})]})},C=n(5);var M=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("header",{className:"header",children:[Object(f.jsx)("h1",{children:"GlowUp"}),Object(f.jsxs)("nav",{className:"nav",children:[Object(f.jsx)(w.c,{to:"glow-up-fe/dashboard",children:"Dashboard"}),Object(f.jsx)(w.c,{to:"glow-up-fe/track",children:"Track"}),Object(f.jsx)(w.c,{to:"glow-up-fe/journal",children:"Journal"})]})]}),Object(f.jsx)(C.c,{children:Object(f.jsxs)(C.a,{path:"glow-up-fe",children:[Object(f.jsx)(C.a,{index:!0,element:Object(f.jsx)(S,{})}),Object(f.jsx)(C.a,{path:"track",element:Object(f.jsxs)("section",{className:"trackers-container",children:[Object(f.jsx)(g,{}),Object(f.jsx)(I,{})]})}),Object(f.jsx)(C.a,{path:"dashboard",element:Object(f.jsx)(S,{})})]})})]})},E=n(68),U=n(79),A=n(77),D=new E.a({uri:"http://localhost:3001/graphql",cache:new U.a});b.a.render(Object(f.jsx)(d.a.StrictMode,{children:Object(f.jsx)(w.a,{children:Object(f.jsx)(A.a,{client:D,children:Object(f.jsx)(y,{children:Object(f.jsx)(M,{})})})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.773dc893.chunk.js.map